{"version":3,"sources":["webpack:///./src/views/SinglePost.vue?b350","webpack:///./src/components/SinglePost/SinglePostItem.vue?bdeb","webpack:///./src/views/SinglePost.vue","webpack:///./src/components/SinglePost/SinglePostItem.vue","webpack:///./src/components/SinglePost/SinglePostItem.vue?fbda","webpack:///./src/views/SinglePost.vue?ff43"],"names":["class","post","title","content","image-url","imageUrl","creator","createdAt","errorMessage","recentPosts","length","index","key","_id","id","to","style","formatTime","name","src","formatImage","alt","formatHtml","props","type","String","required","Object","computed","this","format","jsonParseContent","html","blocks","forEach","block","data","level","text","file","url","caption","items","li","console","log","render","__scopeId","postId","components","SinglePostItem","PostSummaryItem","watch","$route","newRouter","newPostId","params","getPost","$store","getters","methods","$http","method","then","response","catch","error","message","getPosts","page","commit","dispatch","mounted"],"mappings":"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","file":"js/SinglePost.070a7698.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SinglePost.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SinglePost.vue?vue&type=style&index=0&lang=css\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SinglePostItem.vue?vue&type=style&index=0&id=2a71c4f2&scoped=true&lang=css\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SinglePostItem.vue?vue&type=style&index=0&id=2a71c4f2&scoped=true&lang=css\"","<template>\r\n  <div class=\"pt-5 pb-5\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <template v-if=\"post !== null\">\r\n            <SinglePostItem\r\n            :title=\"post.title\"\r\n            :content=\"post.content\"\r\n            :image-url=\"post.imageUrl\"\r\n            :creator=\"post.creator\"\r\n            :createdAt=\"post.createdAt\"\r\n          ></SinglePostItem>\r\n          </template>\r\n          <p class=\"col h4\" v-else>{{ errorMessage }}</p>\r\n          <div class=\"col-lg-3 ml-auto\">\r\n            <div class=\"section-title\">\r\n              <h2>Popular Posts</h2>\r\n            </div>\r\n          <template v-if=\"recentPosts && recentPosts.length > 0\">\r\n            <PostSummaryItem\r\n              v-for=\"(post, index) in recentPosts\"\r\n              :index=\"index\"\r\n              :key=\"post._id\"\r\n              :title=\"post.title\"\r\n              :creator=\"post.creator\"\r\n              :id=\"post._id\"\r\n              :createdAt=\"post.createdAt\"\r\n            >\r\n            </PostSummaryItem>\r\n          </template>\r\n          <p>\r\n            <router-link class=\"more text-info d-flex align-items-center\" :to=\"{name:'Posts'}\">See All Posts. <span class=\"icon-keyboard_arrow_right\"></span\r\n            ></router-link>\r\n          </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SinglePostItem from '@/components/SinglePost/SinglePostItem.vue'\r\nimport PostSummaryItem from '@/components/Posts/PostSummaryItem.vue'\r\nexport default {\r\n  name: 'SinglePost',\r\n  props: {\r\n    postId: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    SinglePostItem,\r\n    PostSummaryItem\r\n  },\r\n  data () {\r\n    return {\r\n      post: null,\r\n      creator: null,\r\n      errorMessage: ''\r\n    }\r\n  },\r\n  watch: {\r\n    $route (newRouter) {\r\n      const newPostId = newRouter.params.postId\r\n      this.getPost(newPostId)\r\n    }\r\n  },\r\n  computed: {\r\n    recentPosts () {\r\n      return this.$store.getters['posts/recentPosts']\r\n    }\r\n  },\r\n  methods: {\r\n    getPost (postId) {\r\n      this.$http({\r\n        method: 'GET',\r\n        url: `${process.env.VUE_APP_API_URL}/blog/posts/` + postId\r\n      })\r\n        .then((response) => {\r\n          this.post = response.data ? response.data.post : null\r\n          this.creator = response.data ? response.data.creator : null\r\n        })\r\n        .catch((error) => {\r\n          this.post = null\r\n          this.errorMessage = error.response.data.message\r\n        })\r\n    },\r\n    async getPosts (page = 1) {\r\n      this.$store.commit('changeLoading', true)\r\n      try {\r\n        await this.$store.dispatch('posts/GET_POSTS', {\r\n          page: page\r\n        })\r\n      } catch (error) {\r\n        this.errorMessage =\r\n          error.response.data?.message || 'Something went wrong.'\r\n      }\r\n      this.$store.commit('changeLoading', false)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getPost(this.postId)\r\n    this.getPosts(1)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","<template>\r\n  <div class=\"col-lg-8 single-content\">\r\n    <h1 class=\"mb-4 text-center\">{{ title }}</h1>\r\n    <div class=\"d-flex mx-auto mt-3 mb-4 bg-dark\" style=\"width:30px;height:2px\"></div>\r\n    <div class=\"text-center text-dark mb-5\" v-if=\"creator\">\r\n      <small>{{ formatTime }} By {{ creator.name }}</small>\r\n    </div>\r\n        <p class=\"mb-5\">\r\n      <img\r\n        :src=\"formatImage\"\r\n        alt=\"Image\"\r\n        class=\"img-fluid\"\r\n      />\r\n    </p>\r\n    <template v-if=\"content\">\r\n      <div v-html=\"formatHtml\" class=\"text-dark\"></div>\r\n    </template>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from 'dayjs'\r\nimport parseJson from 'parse-json'\r\nexport default {\r\n  name: 'SinglePostItem',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    content: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    imageUrl: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    creator: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    createdAt: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    formatImage () {\r\n      return `${process.env.VUE_APP_API_URL}/${this.imageUrl}`\r\n    },\r\n    formatTime () {\r\n      return dayjs(this.createdAt).format('DD/MM/YYYY')\r\n    },\r\n    jsonParseContent () {\r\n      return this.content !== '' ? parseJson(this.content) : ''\r\n    },\r\n    formatHtml () {\r\n      let html = ''\r\n      this.jsonParseContent.blocks.forEach((block) => {\r\n        switch (block.type) {\r\n          case 'header':\r\n            html += `<h${block.data.level}>${block.data.text}</h${block.data.level}>`\r\n            break\r\n          case 'paragraph':\r\n            html += `<p>${block.data.text}</p></br>`\r\n            break\r\n          case 'delimiter':\r\n            html += '<hr />'\r\n            break\r\n          case 'image':\r\n            html += `<img class=\"img-fluid\" src=\"${block.data.file.url}\" title=\"${block.data.caption}\" /><br /><em>${block.data.caption}</em>`\r\n            break\r\n          case 'list':\r\n            html += '<ul>'\r\n            block.data.items.forEach(function (li) {\r\n              html += `<li>${li}</li>`\r\n            })\r\n            html += '</ul>'\r\n            break\r\n          default:\r\n            console.log('Unknown block type', block.type)\r\n            break\r\n        }\r\n      })\r\n      return html\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./SinglePostItem.vue?vue&type=template&id=2a71c4f2&scoped=true&bindings={\\\"title\\\":\\\"props\\\",\\\"content\\\":\\\"props\\\",\\\"imageUrl\\\":\\\"props\\\",\\\"creator\\\":\\\"props\\\",\\\"createdAt\\\":\\\"props\\\",\\\"formatImage\\\":\\\"options\\\",\\\"formatTime\\\":\\\"options\\\",\\\"jsonParseContent\\\":\\\"options\\\",\\\"formatHtml\\\":\\\"options\\\"}\"\nimport script from \"./SinglePostItem.vue?vue&type=script&lang=js\"\nexport * from \"./SinglePostItem.vue?vue&type=script&lang=js\"\n\nimport \"./SinglePostItem.vue?vue&type=style&index=0&id=2a71c4f2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2a71c4f2\"\n\nexport default script","import { render } from \"./SinglePost.vue?vue&type=template&id=a63091da&bindings={\\\"postId\\\":\\\"props\\\",\\\"post\\\":\\\"data\\\",\\\"creator\\\":\\\"data\\\",\\\"errorMessage\\\":\\\"data\\\",\\\"recentPosts\\\":\\\"options\\\",\\\"getPost\\\":\\\"options\\\",\\\"getPosts\\\":\\\"options\\\"}\"\nimport script from \"./SinglePost.vue?vue&type=script&lang=js\"\nexport * from \"./SinglePost.vue?vue&type=script&lang=js\"\n\nimport \"./SinglePost.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}