(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SinglePost"],{"35bc":function(t,e,c){},5976:function(t,e,c){"use strict";c("d0fa")},6210:function(t,e,c){"use strict";c("35bc")},caeb:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),r={class:"pt-5 pb-5"},n={class:"container"},o={class:"row"},s={key:1,class:"col h4"},i={class:"col-lg-3 ml-auto"},l=Object(a["i"])("div",{class:"section-title"},[Object(a["i"])("h2",null,"Popular Posts")],-1),u=Object(a["h"])("See All Posts. "),d=Object(a["i"])("span",{class:"icon-keyboard_arrow_right"},null,-1);function b(t,e,c,b,m,p){var g=Object(a["C"])("SinglePostItem"),f=Object(a["C"])("PostSummaryItem"),h=Object(a["C"])("router-link");return Object(a["u"])(),Object(a["e"])("div",r,[Object(a["i"])("div",n,[Object(a["i"])("div",o,[null!==m.post?(Object(a["u"])(),Object(a["e"])(g,{key:0,title:m.post.title,content:m.post.content,"image-url":m.post.imageUrl,creator:m.post.creator,createdAt:m.post.createdAt},null,8,["title","content","image-url","creator","createdAt"])):(Object(a["u"])(),Object(a["e"])("p",s,Object(a["F"])(m.errorMessage),1)),Object(a["i"])("div",i,[l,p.recentPosts&&p.recentPosts.length>0?(Object(a["u"])(!0),Object(a["e"])(a["a"],{key:0},Object(a["A"])(p.recentPosts,(function(t,e){return Object(a["u"])(),Object(a["e"])(f,{index:e,key:t._id,title:t.title,creator:t.creator,id:t._id,createdAt:t.createdAt},null,8,["index","title","creator","id","createdAt"])})),128)):Object(a["f"])("",!0),Object(a["i"])("p",null,[Object(a["i"])(h,{class:"more text-info d-flex align-items-center",to:{name:"Posts"}},{default:Object(a["L"])((function(){return[u,d]})),_:1})])])])])])}c("96cf");var m=c("1da1"),p=(c("b0c0"),Object(a["N"])("data-v-2a71c4f2"));Object(a["x"])("data-v-2a71c4f2");var g={class:"col-lg-8 single-content"},f={class:"mb-4 text-center"},h=Object(a["i"])("div",{class:"d-flex mx-auto mt-3 mb-4 bg-dark",style:{width:"30px",height:"2px"}},null,-1),j={key:0,class:"text-center text-dark mb-5"},O={class:"mb-5"};Object(a["v"])();var v=p((function(t,e,c,r,n,o){return Object(a["u"])(),Object(a["e"])("div",g,[Object(a["i"])("h1",f,Object(a["F"])(c.title),1),h,c.creator?(Object(a["u"])(),Object(a["e"])("div",j,[Object(a["i"])("small",null,Object(a["F"])(o.formatTime)+" By "+Object(a["F"])(c.creator.name),1)])):Object(a["f"])("",!0),Object(a["i"])("p",O,[Object(a["i"])("img",{src:o.formatImage,alt:"Image",class:"img-fluid"},null,8,["src"])]),c.content?(Object(a["u"])(),Object(a["e"])("div",{key:1,innerHTML:o.formatHtml,class:"text-dark"},null,8,["innerHTML"])):Object(a["f"])("",!0)])})),k=(c("99af"),c("4160"),c("159b"),c("5a0c")),P=c.n(k),y=c("2db0"),x=c.n(y),w={name:"SinglePostItem",props:{title:{type:String,required:!0},content:{type:String,required:!0},imageUrl:{type:String,required:!0},creator:{type:Object,required:!0},createdAt:{type:String,required:!0}},computed:{formatImage:function(){return"".concat("http://localhost:8080","/").concat(this.imageUrl)},formatTime:function(){return P()(this.createdAt).format("DD/MM/YYYY")},jsonParseContent:function(){return""!==this.content?x()(this.content):""},formatHtml:function(){var t="";return this.jsonParseContent.blocks.forEach((function(e){switch(e.type){case"header":t+="<h".concat(e.data.level,">").concat(e.data.text,"</h").concat(e.data.level,">");break;case"paragraph":t+="<p>".concat(e.data.text,"</p></br>");break;case"delimiter":t+="<hr />";break;case"image":t+='<img class="img-fluid" src="'.concat(e.data.file.url,'" title="').concat(e.data.caption,'" /><br /><em>').concat(e.data.caption,"</em>");break;case"list":t+="<ul>",e.data.items.forEach((function(e){t+="<li>".concat(e,"</li>")})),t+="</ul>";break;default:console.log("Unknown block type",e.type);break}})),t}}};c("6210");w.render=v,w.__scopeId="data-v-2a71c4f2";var S=w,I=c("482e"),A={name:"SinglePost",props:{postId:{type:String,required:!0}},components:{SinglePostItem:S,PostSummaryItem:I["a"]},data:function(){return{post:null,creator:null,errorMessage:""}},watch:{$route:function(t){var e=t.params.postId;this.getPost(e)}},computed:{recentPosts:function(){return this.$store.getters["posts/recentPosts"]}},methods:{getPost:function(t){var e=this;this.$http({method:"GET",url:"".concat("http://localhost:8080","/blog/posts/")+t}).then((function(t){e.post=t.data?t.data.post:null,e.creator=t.data?t.data.creator:null})).catch((function(t){e.post=null,e.errorMessage=t.response.data.message}))},getPosts:function(){var t=arguments,e=this;return Object(m["a"])(regeneratorRuntime.mark((function c(){var a,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,e.$store.commit("changeLoading",!0),c.prev=2,c.next=5,e.$store.dispatch("posts/GET_POSTS",{page:a});case 5:c.next=10;break;case 7:c.prev=7,c.t0=c["catch"](2),e.errorMessage=(null===(r=c.t0.response.data)||void 0===r?void 0:r.message)||"Something went wrong.";case 10:e.$store.commit("changeLoading",!1);case 11:case"end":return c.stop()}}),c,null,[[2,7]])})))()}},mounted:function(){this.getPost(this.postId),this.getPosts(1)}};c("5976");A.render=b;e["default"]=A},d0fa:function(t,e,c){}}]);
//# sourceMappingURL=SinglePost.070a7698.js.map