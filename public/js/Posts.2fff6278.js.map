{"version":3,"sources":["webpack:///./src/views/Posts.vue","webpack:///./src/views/Posts.vue?1517","webpack:///./src/components/utilities/BasePagination.vue","webpack:///./src/components/utilities/BasePagination.vue?c11b","webpack:///./src/components/utilities/BasePagination.vue?6e98"],"names":["class","posts","length","isLoading","post","key","_id","title","content","image-url","imageUrl","creator","createdAt","id","getPost","errorMessage","recentPosts","index","name","routerName","totalPosts","data","components","PostItem","PostSummaryItem","BasePagination","watch","page","value","this","$route","undefined","$router","push","query","getPosts","mounted","fullPath","computed","$store","getters","methods","postId","params","commit","dispatch","response","message","render","totalPage","currentPage","to","props","type","String","Number","default","perPageItem","parseInt","Math","ceil"],"mappings":"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","file":"js/Posts.2fff6278.js","sourcesContent":["<template>\r\n  <div class=\"pt-5 pb-5\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-8 mr-md-auto\">\r\n          <div class=\"section-title\">\r\n            <h2>Recent Posts</h2>\r\n          </div>\r\n          <!-- Toggle Modal Button-->\r\n          <!-- Post Item -->\r\n          <template v-if=\"posts && posts.length > 0 && !isLoading\">\r\n            <PostItem\r\n              v-for=\"post in posts\"\r\n              class=\"row mb-5\"\r\n              :key=\"post._id\"\r\n              :title=\"post.title\"\r\n              :content=\"post.content\"\r\n              :image-url=\"post.imageUrl\"\r\n              :creator=\"post.creator\"\r\n              :createdAt=\"post.createdAt\"\r\n              :id=\"post._id\"\r\n              @get-post=\"getPost\"\r\n            >\r\n              <div class=\"text-info pointer\" @click.stop=\"getPost(post._id)\">\r\n                Read More\r\n              </div>\r\n            </PostItem>\r\n          </template>\r\n          <p class=\"h3 text-dark\" v-else-if=\"!isLoading\">No posts found.</p>\r\n          <p class=\"h6 text-dark\">{{ errorMessage }}</p>\r\n        </div>\r\n        <!-- Post Summary Item -->\r\n        <div class=\"col-lg-3 mt-5 mt-lg-0\">\r\n          <div class=\"section-title\">\r\n            <h2>Popular Posts</h2>\r\n          </div>\r\n          <template v-if=\"recentPosts && recentPosts.length > 0 && !isLoading\">\r\n            <PostSummaryItem\r\n              v-for=\"(post, index) in recentPosts\"\r\n              :index=\"index\"\r\n              :key=\"post._id\"\r\n              :title=\"post.title\"\r\n              :creator=\"post.creator\"\r\n              :id=\"post._id\"\r\n              :createdAt=\"post.createdAt\"\r\n            >\r\n            </PostSummaryItem>\r\n          </template>\r\n        </div>\r\n      </div>\r\n      <BasePagination\r\n        :name=\"routerName\"\r\n        :totalPosts=\"totalPosts\"\r\n      ></BasePagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostItem from '@/components/Posts/PostItem.vue'\r\nimport PostSummaryItem from '@/components/Posts/PostSummaryItem.vue'\r\nimport BasePagination from '@/components/utilities/BasePagination.vue'\r\nexport default {\r\n  name: 'Posts',\r\n  data () {\r\n    return {\r\n      errorMessage: ''\r\n    }\r\n  },\r\n  components: {\r\n    PostItem,\r\n    PostSummaryItem,\r\n    BasePagination\r\n  },\r\n  watch: {\r\n    page (value) {\r\n      if (this.$route.name !== 'Posts') return\r\n      if (!value || value === undefined || value <= 0) {\r\n        this.$router.push({ name: 'Posts', query: { page: 1 } })\r\n      } else {\r\n        this.getPosts(value)\r\n      }\r\n    },\r\n    posts (value) {\r\n      const page = this.page\r\n      if (this.page <= 0) return\r\n      if (this.posts.length <= 0 && this.page > 1) {\r\n        this.$router.push({ name: 'Posts', query: { page: page - 1 } })\r\n        this.getPosts(page - 1)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    if (\r\n      this.$route.fullPath === '/posts/' ||\r\n      this.$route.fullPath === '/posts'\r\n    ) {\r\n      this.$router.push({ name: 'Posts', query: { page: 1 } })\r\n      this.getPosts(1)\r\n    } else {\r\n      this.getPosts(this.page)\r\n    }\r\n  },\r\n  computed: {\r\n    routerName () {\r\n      return this.$route.name\r\n    },\r\n    totalPosts () {\r\n      return this.$store.getters['posts/totalPosts']\r\n    },\r\n    page () {\r\n      return this.$route.query.page\r\n    },\r\n    posts () {\r\n      return this.$store.getters['posts/posts']\r\n    },\r\n    recentPosts () {\r\n      return this.$store.getters['posts/recentPosts']\r\n    },\r\n    isLoading () {\r\n      return this.$store.getters.isLoading\r\n    }\r\n  },\r\n  methods: {\r\n    getPost (postId) {\r\n      this.$router.push({ name: 'SinglePost', params: { postId: postId } })\r\n    },\r\n    async getPosts (page = 1) {\r\n      this.$store.commit('changeLoading', true)\r\n      try {\r\n        await this.$store.dispatch('posts/GET_POSTS', {\r\n          page: page\r\n        })\r\n      } catch (error) {\r\n        this.errorMessage =\r\n          error.response.data?.message || 'Something went wrong.'\r\n      }\r\n      this.$store.commit('changeLoading', false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Posts.vue?vue&type=template&id=78eb9396&bindings={\\\"errorMessage\\\":\\\"data\\\",\\\"routerName\\\":\\\"options\\\",\\\"totalPosts\\\":\\\"options\\\",\\\"page\\\":\\\"options\\\",\\\"posts\\\":\\\"options\\\",\\\"recentPosts\\\":\\\"options\\\",\\\"isLoading\\\":\\\"options\\\",\\\"getPost\\\":\\\"options\\\",\\\"getPosts\\\":\\\"options\\\"}\"\nimport script from \"./Posts.vue?vue&type=script&lang=js\"\nexport * from \"./Posts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-6\">\r\n      <ul class=\"custom-pagination list-unstyled\">\r\n        <li v-for=\"page in totalPage\" :key=\"page\" class=\"mr-2 text-secondary\" :class=\"{'active':currentPage===page}\">\r\n          <router-link :to=\"{ name:name,query: { page: page}}\">{{ page }}</router-link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BasePagination',\r\n  props: {\r\n    name: {\r\n      type: String\r\n    },\r\n    totalPosts: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      perPageItem: 5\r\n    }\r\n  },\r\n  computed: {\r\n    currentPage () {\r\n      return parseInt(this.$route.query.page)\r\n    },\r\n    totalPage () {\r\n      return Math.ceil(this.totalPosts / this.perPageItem)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import { render } from \"./BasePagination.vue?vue&type=template&id=43296d3f&bindings={\\\"name\\\":\\\"props\\\",\\\"totalPosts\\\":\\\"props\\\",\\\"perPageItem\\\":\\\"data\\\",\\\"currentPage\\\":\\\"options\\\",\\\"totalPage\\\":\\\"options\\\"}\"\nimport script from \"./BasePagination.vue?vue&type=script&lang=js\"\nexport * from \"./BasePagination.vue?vue&type=script&lang=js\"\n\nimport \"./BasePagination.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BasePagination.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BasePagination.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}