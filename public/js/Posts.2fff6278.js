(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Posts"],{"17c3":function(t,e,s){"use strict";s.r(e);var o=s("7a23"),n={class:"pt-5 pb-5"},r={class:"container"},a={class:"row"},c={class:"col-lg-8 mr-md-auto"},i=Object(o["i"])("div",{class:"section-title"},[Object(o["i"])("h2",null,"Recent Posts")],-1),u={key:1,class:"h3 text-dark"},l={class:"h6 text-dark"},d={class:"col-lg-3 mt-5 mt-lg-0"},g=Object(o["i"])("div",{class:"section-title"},[Object(o["i"])("h2",null,"Popular Posts")],-1);function p(t,e,s,p,b,h){var m=Object(o["C"])("PostItem"),O=Object(o["C"])("PostSummaryItem"),j=Object(o["C"])("BasePagination");return Object(o["u"])(),Object(o["e"])("div",n,[Object(o["i"])("div",r,[Object(o["i"])("div",a,[Object(o["i"])("div",c,[i,h.posts&&h.posts.length>0&&!h.isLoading?(Object(o["u"])(!0),Object(o["e"])(o["a"],{key:0},Object(o["A"])(h.posts,(function(t){return Object(o["u"])(),Object(o["e"])(m,{class:"row mb-5",key:t._id,title:t.title,content:t.content,"image-url":t.imageUrl,creator:t.creator,createdAt:t.createdAt,id:t._id,onGetPost:h.getPost},{default:Object(o["L"])((function(){return[Object(o["i"])("div",{class:"text-info pointer",onClick:Object(o["M"])((function(e){return h.getPost(t._id)}),["stop"])}," Read More ",8,["onClick"])]})),_:2},1032,["title","content","image-url","creator","createdAt","id","onGetPost"])})),128)):h.isLoading?Object(o["f"])("",!0):(Object(o["u"])(),Object(o["e"])("p",u,"No posts found.")),Object(o["i"])("p",l,Object(o["F"])(b.errorMessage),1)]),Object(o["i"])("div",d,[g,h.recentPosts&&h.recentPosts.length>0&&!h.isLoading?(Object(o["u"])(!0),Object(o["e"])(o["a"],{key:0},Object(o["A"])(h.recentPosts,(function(t,e){return Object(o["u"])(),Object(o["e"])(O,{index:e,key:t._id,title:t.title,creator:t.creator,id:t._id,createdAt:t.createdAt},null,8,["index","title","creator","id","createdAt"])})),128)):Object(o["f"])("",!0)])]),Object(o["i"])(j,{name:h.routerName,totalPosts:h.totalPosts},null,8,["name","totalPosts"])])])}s("b0c0"),s("96cf");var b=s("1da1"),h=s("dd4b"),m=s("482e"),O=s("60c0"),j={name:"Posts",data:function(){return{errorMessage:""}},components:{PostItem:h["a"],PostSummaryItem:m["a"],BasePagination:O["a"]},watch:{page:function(t){"Posts"===this.$route.name&&(!t||void 0===t||t<=0?this.$router.push({name:"Posts",query:{page:1}}):this.getPosts(t))},posts:function(t){var e=this.page;this.page<=0||this.posts.length<=0&&this.page>1&&(this.$router.push({name:"Posts",query:{page:e-1}}),this.getPosts(e-1))}},mounted:function(){"/posts/"===this.$route.fullPath||"/posts"===this.$route.fullPath?(this.$router.push({name:"Posts",query:{page:1}}),this.getPosts(1)):this.getPosts(this.page)},computed:{routerName:function(){return this.$route.name},totalPosts:function(){return this.$store.getters["posts/totalPosts"]},page:function(){return this.$route.query.page},posts:function(){return this.$store.getters["posts/posts"]},recentPosts:function(){return this.$store.getters["posts/recentPosts"]},isLoading:function(){return this.$store.getters.isLoading}},methods:{getPost:function(t){this.$router.push({name:"SinglePost",params:{postId:t}})},getPosts:function(){var t=arguments,e=this;return Object(b["a"])(regeneratorRuntime.mark((function s(){var o,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=t.length>0&&void 0!==t[0]?t[0]:1,e.$store.commit("changeLoading",!0),s.prev=2,s.next=5,e.$store.dispatch("posts/GET_POSTS",{page:o});case 5:s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](2),e.errorMessage=(null===(n=s.t0.response.data)||void 0===n?void 0:n.message)||"Something went wrong.";case 10:e.$store.commit("changeLoading",!1);case 11:case"end":return s.stop()}}),s,null,[[2,7]])})))()}}};j.render=p;e["default"]=j},"60c0":function(t,e,s){"use strict";s("b0c0");var o=s("7a23"),n={class:"row"},r={class:"col-lg-6"},a={class:"custom-pagination list-unstyled"};function c(t,e,s,c,i,u){var l=Object(o["C"])("router-link");return Object(o["u"])(),Object(o["e"])("div",n,[Object(o["i"])("div",r,[Object(o["i"])("ul",a,[(Object(o["u"])(!0),Object(o["e"])(o["a"],null,Object(o["A"])(u.totalPage,(function(t){return Object(o["u"])(),Object(o["e"])("li",{key:t,class:["mr-2 text-secondary",{active:u.currentPage===t}]},[Object(o["i"])(l,{to:{name:s.name,query:{page:t}}},{default:Object(o["L"])((function(){return[Object(o["h"])(Object(o["F"])(t),1)]})),_:2},1032,["to"])],2)})),128))])])])}s("a9e3");var i={name:"BasePagination",props:{name:{type:String},totalPosts:{type:Number,default:1}},data:function(){return{perPageItem:5}},computed:{currentPage:function(){return parseInt(this.$route.query.page)},totalPage:function(){return Math.ceil(this.totalPosts/this.perPageItem)}}};s("aad7");i.render=c;e["a"]=i},9353:function(t,e,s){},aad7:function(t,e,s){"use strict";s("9353")}}]);
//# sourceMappingURL=Posts.2fff6278.js.map