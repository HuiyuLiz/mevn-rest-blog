(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SinglePost"],{3111:function(t,e,c){"use strict";c("d4f9")},5976:function(t,e,c){"use strict";c("d0fa")},caeb:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),n={class:"pt-5 pb-5"},r={class:"container"},o={class:"row"},s={key:1,class:"col h4"},i={class:"col-lg-3 ml-auto"},l=Object(a["i"])("div",{class:"section-title"},[Object(a["i"])("h2",null,"Popular Posts")],-1),u=Object(a["h"])("See All Posts. "),d=Object(a["i"])("span",{class:"icon-keyboard_arrow_right"},null,-1);function b(t,e,c,b,p,m){var f=Object(a["C"])("SinglePostItem"),g=Object(a["C"])("PostSummaryItem"),j=Object(a["C"])("router-link");return Object(a["u"])(),Object(a["e"])("div",n,[Object(a["i"])("div",r,[Object(a["i"])("div",o,[null!==p.post?(Object(a["u"])(),Object(a["e"])(f,{key:0,title:p.post.title,content:p.post.content,"image-url":p.post.imageUrl,creator:p.post.creator,createdAt:p.post.createdAt},null,8,["title","content","image-url","creator","createdAt"])):(Object(a["u"])(),Object(a["e"])("p",s,Object(a["F"])(p.errorMessage),1)),Object(a["i"])("div",i,[l,m.recentPosts&&m.recentPosts.length>0?(Object(a["u"])(!0),Object(a["e"])(a["a"],{key:0},Object(a["A"])(m.recentPosts,(function(t,e){return Object(a["u"])(),Object(a["e"])(g,{index:e,key:t._id,title:t.title,creator:t.creator,id:t._id,createdAt:t.createdAt},null,8,["index","title","creator","id","createdAt"])})),128)):Object(a["f"])("",!0),Object(a["i"])("p",null,[Object(a["i"])(j,{class:"more text-info d-flex align-items-center",to:{name:"Posts"}},{default:Object(a["L"])((function(){return[u,d]})),_:1})])])])])])}c("96cf");var p=c("1da1"),m=(c("b0c0"),{class:"col-lg-8 single-content"}),f={class:"mb-4"},g={class:"post-meta d-flex mb-5"},j={class:"bg-info mr-3 post-profile-thumbnail d-flex justify-content-center align-items-center"},h={class:"text-light h3 mb-0"},O={key:0,class:"vcard"},v={class:"d-block"},P={href:"#"},k={class:"date-read"},y={class:"mb-5"};function w(t,e,c,n,r,o){return Object(a["u"])(),Object(a["e"])("div",m,[Object(a["i"])("h1",f,Object(a["F"])(c.title),1),Object(a["i"])("div",g,[Object(a["i"])("div",j,[Object(a["i"])("span",h,Object(a["F"])(c.creator.name.substr(0,1).toLocaleUpperCase()),1)]),c.creator?(Object(a["u"])(),Object(a["e"])("div",O,[Object(a["i"])("span",v,[Object(a["i"])("a",P,Object(a["F"])(c.creator.name),1)]),Object(a["i"])("span",k,Object(a["F"])(o.formatTime),1)])):Object(a["f"])("",!0)]),Object(a["i"])("p",y,[Object(a["i"])("img",{src:o.formatImage,alt:"Image",class:"img-fluid"},null,8,["src"])]),c.content?(Object(a["u"])(),Object(a["e"])("div",{key:0,innerHTML:o.formatHtml},null,8,["innerHTML"])):Object(a["f"])("",!0)])}c("99af"),c("4160"),c("159b");var S=c("5a0c"),x=c.n(S),I=c("2db0"),A=c.n(I),M={name:"SinglePostItem",props:{title:{type:String,required:!0},content:{type:String,required:!0},imageUrl:{type:String,required:!0},creator:{type:Object,required:!0},createdAt:{type:String,required:!0}},computed:{formatImage:function(){return"".concat("http://localhost:8080","/").concat(this.imageUrl)},formatTime:function(){return x()(this.createdAt).format("MMM DD")},jsonParseContent:function(){return""!==this.content?A()(this.content):""},formatHtml:function(){var t="";return this.jsonParseContent.blocks.forEach((function(e){switch(e.type){case"header":t+="<h".concat(e.data.level,">").concat(e.data.text,"</h").concat(e.data.level,">");break;case"paragraph":t+="<p>".concat(e.data.text,"</p>");break;case"delimiter":t+="<hr />";break;case"image":t+='<img class="img-fluid" src="'.concat(e.data.file.url,'" title="').concat(e.data.caption,'" /><br /><em>').concat(e.data.caption,"</em>");break;case"list":t+="<ul>",e.data.items.forEach((function(e){t+="<li>".concat(e,"</li>")})),t+="</ul>";break;default:console.log("Unknown block type",e.type);break}})),t}}};c("3111");M.render=w;var T=M,q=c("482e"),C={name:"SinglePost",props:{postId:{type:String,required:!0}},components:{SinglePostItem:T,PostSummaryItem:q["a"]},data:function(){return{post:null,creator:null,errorMessage:""}},watch:{$route:function(t){var e=t.params.postId;this.getPost(e)}},computed:{recentPosts:function(){return this.$store.getters["posts/recentPosts"]}},methods:{getPost:function(t){var e=this;this.$http({method:"GET",url:"".concat("http://localhost:8080","/blog/posts/")+t}).then((function(t){e.post=t.data?t.data.post:null,e.creator=t.data?t.data.creator:null})).catch((function(t){e.post=null,e.errorMessage=t.response.data.message}))},getPosts:function(){var t=arguments,e=this;return Object(p["a"])(regeneratorRuntime.mark((function c(){var a,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,e.$store.commit("changeLoading",!0),c.prev=2,c.next=5,e.$store.dispatch("posts/GET_POSTS",{page:a});case 5:c.next=10;break;case 7:c.prev=7,c.t0=c["catch"](2),e.errorMessage=(null===(n=c.t0.response.data)||void 0===n?void 0:n.message)||"Something went wrong.";case 10:e.$store.commit("changeLoading",!1);case 11:case"end":return c.stop()}}),c,null,[[2,7]])})))()}},mounted:function(){this.getPost(this.postId),this.getPosts(1)}};c("5976");C.render=b;e["default"]=C},d0fa:function(t,e,c){},d4f9:function(t,e,c){}}]);
//# sourceMappingURL=SinglePost.7ba55245.js.map